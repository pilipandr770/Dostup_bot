# Деплой Docker образа бота на Railway.app

Railway.app - современная платформа для деплоя приложений с отличной поддержкой Docker и очень простым интерфейсом. Это одна из лучших альтернатив для деплоя вашего Telegram бота.

## Преимущества Railway.app

1. **Очень простой деплой** - возможно самый простой среди всех платформ
2. **Щедрый бесплатный тир** - 5$ кредитов каждый месяц бесплатно
3. **Автодеплой из GitHub** - автоматические обновления при изменениях в репозитории
4. **Постоянное хранилище** - поддержка томов для данных
5. **Современный дизайн интерфейса** - удобство использования

## Регистрация на Railway.app

1. **Создайте аккаунт**:
   - Перейдите на [Railway.app](https://railway.app/)
   - Зарегистрируйтесь с помощью GitHub или Google аккаунта

## Деплой Docker образа

### Вариант 1: Деплой из GitHub репозитория (рекомендуется)

1. **Создание нового проекта**:
   - На главной странице Dashboard нажмите "New Project"
   - Выберите "Deploy from GitHub repo"
   - Выберите репозиторий с вашим ботом

2. **Настройка деплоя**:
   - Railway автоматически определит Dockerfile в вашем проекте
   - Нажмите "Deploy Now"
   
3. **Настройка переменных окружения**:
   - На странице проекта перейдите во вкладку "Variables"
   - Добавьте все необходимые переменные:
     - BOT_TOKEN
     - COURSE_CHANNEL_ID
     - YOUTUBE_CHANNEL_URL
     - CHANNEL_INVITE_LINK
     - OPENAI_API_KEY
     - OPENAI_ASSISTANT_ID
     - STRIPE_PAYMENT_URL
     - ADMIN_USER_ID
     - STRIPE_API_KEY

### Вариант 2: Деплой из Docker образа (если у вас уже готовый образ)

1. **Создание нового проекта**:
   - На главной странице Dashboard нажмите "New Project"
   - Выберите "Empty Project"

2. **Добавление сервиса**:
   - В проекте нажмите "New Service"
   - Выберите "Docker Image"
   - Введите имя образа из Docker Hub (например, yourusername/dostup-bot)

3. **Настройка переменных окружения**:
   - Добавьте все переменные как указано выше

## Настройка постоянного хранилища

1. **Добавление тома (volume)**:
   - На странице проекта перейдите на вкладку "Settings"
   - Прокрутите вниз до раздела "Volumes"
   - Нажмите "Add Volume"
   - Укажите:
     - Путь: `/app`
     - Размер: 1 GB

## Мониторинг и логи

Railway предоставляет удобный интерфейс для мониторинга работы вашего приложения:

1. **Просмотр логов**:
   - На странице проекта перейдите на вкладку "Deployments"
   - Выберите последний деплой
   - Нажмите на вкладку "Logs"
   - Логи отображаются в реальном времени

2. **Мониторинг использования ресурсов**:
   - На странице проекта в верхней части отображается использование CPU, памяти, диска
   - Подробную статистику можно посмотреть на вкладке "Metrics"

## Обновление приложения

Railway автоматически обновляет ваше приложение при изменениях в репозитории. Если вы хотите обновить вручную:

1. **Ручной деплой**:
   - На странице проекта перейдите на вкладку "Deployments"
   - Нажмите "Deploy Now"

## Стоимость и лимиты

Railway имеет очень привлекательную модель ценообразования:

- **Бесплатный тир**: 5$ кредитов ежемесячно (обнуляются в конце месяца)
- **Платные планы**: начинаются от 5$ в месяц
- **Измерение использования**: оплата за реально использованные ресурсы

Для телеграм бота с небольшим количеством пользователей бесплатного тира обычно достаточно.

## Важные особенности Railway

1. **Автоматический сон (бесплатный план)**:
   - В бесплатном плане приложение уходит в спящий режим при неактивности
   - Для телеграм бота можно настроить регулярные пинги, чтобы избежать сна

2. **Имя домена**:
   - Railway предоставляет домен вида `your-app-name.up.railway.app`
   - Для телеграм бота это не критично, так как вы не используете веб-интерфейс

3. **Использование кредитов**:
   - Отслеживайте использование кредитов в Dashboard
   - При приближении к лимиту вы получите уведомление

## Поддержка

Railway имеет отличную документацию и поддержку:
- [Документация Railway](https://docs.railway.app/)
- [Railway Discord сообщество](https://discord.com/invite/railway)

Railway - отличный выбор для деплоя вашего Telegram бота, особенно если вам важна простота использования и бесплатный тир на начальном этапе.
