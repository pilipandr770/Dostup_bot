# Деплой на Render.com

В этом документе приведены инструкции по деплою бота на платформе Render.com.

## Подготовка

1. Убедитесь, что ваш код находится в GitHub репозитории.
2. Создайте аккаунт на [Render.com](https://render.com) если его ещё нет.

## Шаги для деплоя

1. Войдите в свою панель управления Render.
2. Нажмите кнопку **New** и выберите **Blueprint**.
3. Подключите свой GitHub репозиторий.
4. Render автоматически обнаружит файл `render.yaml` и предложит создать сервисы на его основе.
5. Подтвердите создание и настройте переменные окружения (см. ниже).

## Настройка переменных окружения

В панели управления Render необходимо настроить следующие переменные окружения:

- `BOT_TOKEN` — токен вашего Telegram бота от BotFather
- `COURSE_CHANNEL_ID` — ID канала с курсом
- `YOUTUBE_CHANNEL_URL` — URL вашего YouTube канала с бесплатным уроком
- `CHANNEL_INVITE_LINK` — пригласительная ссылка в закрытый канал
- `ADMIN_USER_ID` — ID администратора бота
- `STRIPE_PAYMENT_URL` — URL страницы оплаты Stripe
- `STRIPE_API_KEY` — API-ключ Stripe для проверки платежей
- `OPENAI_API_KEY` — API-ключ OpenAI (если используется)
- `OPENAI_ASSISTANT_ID` — ID ассистента OpenAI (если используется)

## Настройка диска для хранения данных

В конфигурации указан диск размером 1 GB для хранения файлов базы данных и логов. Это обеспечит их сохранность между перезапусками сервиса. Если вам требуется больше места, измените параметр `sizeGB` в файле `render.yaml`.

## Мониторинг

После деплоя вы можете мониторить работу бота с помощью:

1. Логов в панели управления Render
2. Встроенных команд бота для администратора (например, `/reminders`)

## Проблемы при деплое

Если возникают проблемы:

1. Проверьте логи в панели управления Render
2. Убедитесь, что все переменные окружения настроены правильно
3. Проверьте, что порты не блокируются (Render автоматически предоставляет доступ для исходящих соединений)

## Обновление бота

Для обновления бота:

1. Внесите изменения в код и отправьте их в GitHub репозиторий
2. Render автоматически обнаружит изменения и выполнит новый деплой
3. Вы можете также запустить ручной деплой из панели управления Render
